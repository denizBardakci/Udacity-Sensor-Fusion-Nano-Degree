import matplotlib.pyplot as plt
import numpy as np


'''
# Data for Images for shi-thomasi
methods = ['BRISK', 'BRIEF', 'ORB', 'FREAK']
keypoints_detected_images = [
    [12.7, 14.00, 13.65, 14.3],
    [13.5, 14.51, 13.27, 13.3],
    [12.1, 13.09, 11.7, 11.19],
    [12.63, 12.1, 11.96, 12.91],
    [12.13, 12.57, 12.67, 12.74],
    [13.92, 14.20, 15.31, 13.7],
    [12.24, 15.83, 11.69, 11.64],
    [13.11, 12.86, 12.22, 12.04],
    [11.29, 10.87, 11.27, 11.7],
    [13.6, 13.5, 13.2, 13],
    [11.0, 11.33, 10.96, 11.19],
    [11.6, 12.4, 11.56, 11.84],
    [12.29, 11.23, 11.61, 11.84],
    [11.31, 11.94, 11.86, 12.62],
    [10.26, 11.88, 10.43, 10.04],
    [10.44, 10.93, 11.45, 10.87],
    [11.08, 11.47, 11.05, 11.12],
    [8.78, 10.32, 9.77, 9.46],
]
'''
# Data for Images for Harris
methods = ['BRISK', 'BRIEF', 'ORB', 'FREAK']
keypoints_detected_images = [
    [9.74, 9.74, 9.74, 9.74],
    [52.79, 80.75, 80.75, 52.79],
    [-80.85, -80.85, -np.inf, -18.26],
    [11.76, 11.76, 11.76, 11.76],
    [40.8, 13.5, 13.36, 13.64],
    [13.55, 20.19, 14.19, 15.52],
    [13.34, 16.77, 14.46, 12.27],
    [13.57, 39.15, 13.57, 12.63],
    [np.NaN, 3.3, 3.18, 0.13],
    [-np.inf, -13.44, -np.inf, 20.58],
    [11.74, 11.74, 11.74, 11.15],
    [11.82, 11.82, 11.82, 11.82],
    [25.69, 13.43, 13.43, 13.4],
    [5.66, 5.6, 5.66, 0.07],
    [-13.63, -13.62, -13.63, -np.inf],
    [6.92, 7.09, 8.76, 6.74],
    [12.58, 11.8, 12.58, 11.79],
    [-np.inf, -np.inf, -np.inf, 25.67],
]
'''
# Data for Images for Fast
methods = ['BRISK', 'BRIEF', 'ORB', 'FREAK']
keypoints_detected_images = [
    [12.97, 11.01, 11.04, 12.59],
    [12.14, 11.43, 11.21, 13.35],
    [14.78, 18.15, 15.72, 14.38],
    [13.01, 13.94, 13.99, 13.05],
    [52.53, 46.75, 44.8, 30.34],
    [13.37, 14.06, 12.98, 13.07],
    [12.1, 12.77, 14.31, 12.21],
    [10.85, 12.73, 12.01, 11.84],
    [12.13, 12.66, 12.31, 12.55],
    [13.48, 12.97, 13.79, 13.61],
    [12.72, 13.69, 13.79, 13.14],
    [11.77, 10.94, 11.07, 11.23],
    [11.68, 12.75, 12.68, 11.78],
    [11.48, 11.7, 11.13, 11.61],
    [11.16, 11.79, 11.01, 11.61],
    [12.23, 12.08, 11.75, 12.03],
    [7.71, 7.51, 9.14, 9.26],
    [11.33, 11.6, 11.49, 11.92],
]


# Data for Images for BRISK
methods = ['BRISK', 'BRIEF', 'ORB', 'FREAK']
keypoints_detected_images = [
    [13.68, 13.58, 14.23, 11.86],
    [22.9, 18.25, 17.01, 25.06],
    [15.19, 14.57, 15.84, 14.87],
    [16.94, 22.3, 17.81, 14.25],
    [30.28, 21.2, 23.69, 32.65],
    [17.49, 20.57, 21.41, 15.42],
    [18.32, 15.92, 17.6, 15.4],
    [16.9, 22.87, 17.11, 17.93],
    [15.24, 17.62, 14.45, 14.8],
    [15.63, 15.09, 13.52, 13.76],
    [13.61, 14.86, 13.95, 12.8],
    [11.25, 14.29, 11.47, 11.47],
    [12.6, 13.77, 12.6, 12.02],
    [13.3, 10.95, 12.47, 11.58],
    [13.26, 12.54, 13.32, 15.23],
    [11.65, 12.88, 11.62, 10.54],
    [9.2, 10.91, 9.62, 9.095],
    [11.18, 10.76, 11.47, 10.51],
]


# Data for Images for ORB
methods = ['BRISK', 'BRIEF', 'ORB', 'FREAK']
keypoints_detected_images = [
    [15.08, 23.97, 25.66, 12.2],
    [13.5, 57.2, 10.75, 20.31],
    [12.35, 146.95, 18.47, 12.75],
    [19.92, 14.16, 19.26, 10.9],
    [179.16, 25.88, 47.91, 743.24],
    [10.84, 14.48, 18.18, 12.84],
    [16.48, 224.49, -np.inf, -np.inf],
    [11.03, 33.42, 10.69, 8.93],
    [13.14, 70.71, 1454, 15.08],
    [13.22, 23, 20.15, -545],
    [8.3, 17.08, 7.4, 7.86],
    [-np.inf, 12.93, 23.31, 40.88],
    [7.78, 13.3, 9.74, 6.32],
    [9.47, 9.88, 9.6, 60.26],
    [8.68, 13.29, 13.5, 8.68],
    [13.27, 11.71, 10.46, 10.88],
    [13.01, 13.21, 18.1, 16.75],
    [26.18, 20.28, 32.51, 16.86],
]


# Data for Images for AKAZE
methods = ['BRISK', 'BRIEF', 'ORB', 'FREAK', 'AKAZE']
keypoints_detected_images = [
    [12.21, 14.11, 13.21, 12.67, 12.95],
    [15.24, 15.04, 14.71, 14.69, 14.55 ],
    [13.28, 13.82, 13.31, 13.66, 12.98],
    [14.39, 14.26, 14.8, 13.43, 15.05],
    [15.34, 16.53, 16.61, 16.15, 17.11],
    [14.57, 15.31, 14.86, 14.67, 14.86],
    [15.76, 16.21, 15.93, 15.73, 15.77],
    [14.34, 14.84, 14.86, 14.27, 14.89],
    [14.03, 14.52, 14.12, 13.62, 14.53],
    [11.96, 12.11, 12.16, 12.34, 12.03],
    [12.49, 12.83, 12.69, 12.53, 12.43],
    [10.73, 11.65, 11.61, 11.01, 11.25],
    [10.44, 10.46, 10.68, 11.18, 11.68],
    [10.43, 10.12, 10.48, 10.11, 10.44],
    [10.0, 9.98, 10.25, 9.44, 10.26],
    [10.48, 10.76, 10.08, 10.45, 10.54],
    [9.6, 9.5, 9.39, 9.6, 9.23],
    [9.1, 9.87, 9.26, 9.10, 9.02],
]


# Data for Images for SIFT - Camera
methods = ['BRISK', 'BRIEF', 'FREAK']
keypoints_detected_images = [
    [14.36, 12.87, 14.25],
    [12.47, 13.83, 13.59],
    [13.49, 14.19, 13.2],
    [21.9, 21.85, 22.95],
    [14.99, 17.64, 17.64],
    [11.98, 12.29, 12.41],
    [14.91, 15.9, 14.72],
    [14.01, 14.21, 13.45],
    [12.39, 14.45, 13.18],
    [9.81, 10.19, 10.48],
    [12.74, 12.75, 12.46],
    [10.3, 9.6, 10.29],
    [10.65, 10.81, 9.61],
    [9.47, 8.95, 9.11],
    [9.53, 9.37, 8.77],
    [9.18, 9.2, 8.61],
    [9.4, 9.38, 8.74],
    [9.36, 9.42, 9.54],
]
'''
# Assign
# Assigning colors to methods
method_colors = {
    'BRIEF': 'purple',
    'ORB':   'skyblue',
    'FREAK': 'magenta',
    'BRISK': 'lightgreen',
    #'AKAZE':  'lightcoral'
}

# Plotting
plt.figure(figsize=(12, 6))

bar_width = 0.1
index = np.arange(len(keypoints_detected_images))

for i, method in enumerate(methods):
    color = method_colors[method]
    method_keypoints = [keypoints[i] for keypoints in keypoints_detected_images]
    plt.bar(index + i * bar_width, method_keypoints, bar_width, label=method, color=color)

plt.xlabel('Images')
plt.ylabel('TTC in seconds')
plt.title('Camera Based TTC - HARRIS')
plt.xticks(index + bar_width * (len(methods) - 1) / 2, [f'Image {i+1}' for i in range(len(keypoints_detected_images))])
plt.legend()
plt.grid(axis='y', linestyle='--', alpha=0.7)

plt.tight_layout()
plt.show()
